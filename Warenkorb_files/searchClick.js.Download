define([
    'jquery',
    'jquery/ui'
], function ($) {
    'use strict';

    var searchClick = {
        url: null,
        selectorSearchPageLink: '.catalogsearch-result-index .search.results .product-item, ',
        selectorSearchPageAddToCart: '.catalogsearch-result-index .search.results .tocart, ',
        selectorPopupLink: '.search-autocomplete .amsearch-results .product-item-link, ',
        selectorPopupAddToCart: '.search-autocomplete .amsearch-results .tocart',

        init: function (url) {
            this.url = url;
            var self = this,
                generalSelector = self.selectorSearchPageLink
                    + self.selectorSearchPageAddToCart
                    + self.selectorPopupLink
                    + self.selectorPopupAddToCart;


            $(document).on("click", generalSelector, function () {
                self.callAjax();
            });
        },

        callAjax: function () {
            $.ajax({
                url: this.url,
                data: {'form_key': $.mage.cookies.get('form_key')}
            });
        },
    };

    return searchClick;
});
